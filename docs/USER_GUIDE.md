# üìñ Gu√≠a de Usuario - AquaPay Web3

## üéØ Introducci√≥n

Bienvenido a AquaPay Web3, el sistema de pagos descentralizado para el uso de agua. Esta gu√≠a te ayudar√° a usar la plataforma paso a paso.

## üöÄ Inicio R√°pido

### 1. Conectar Wallet

1. Visita la aplicaci√≥n web de AquaPay Web3
2. Haz clic en "Conectar Wallet" en la esquina superior derecha
3. Selecciona tu wallet (MetaMask, WalletConnect, etc.)
4. Acepta la conexi√≥n en tu wallet
5. Aseg√∫rate de estar conectado a **Scroll Sepolia Testnet**

### 2. Agregar Red Scroll Sepolia

Si no tienes Scroll Sepolia en tu MetaMask:

**Informaci√≥n de Red:**
- **Nombre:** Scroll Sepolia
- **RPC URL:** https://sepolia-rpc.scroll.io/
- **Chain ID:** 534351
- **S√≠mbolo:** ETH
- **Explorer:** https://sepolia.scrollscan.com/

## üë§ Registro de Usuario

### Paso 1: Obtener ENS Name

1. Ve a tu dashboard
2. Si no est√°s registrado, ver√°s un mensaje
3. Proporciona tu nombre ENS deseado (ej: `casa123.aguapay.eth`)
4. Proporciona el ID de tu medidor de agua
5. Confirma la transacci√≥n en tu wallet

**Nota:** El registro requiere una peque√±a cantidad de ETH para gas fees.

### Paso 2: Verificar Registro

Una vez registrado, ver√°s:
- Tu nombre ENS
- ID de medidor
- Estado de cuenta (Activo/Inactivo)

## üí∞ Realizar un Pago

### Opci√≥n 1: Pago con Stablecoin

1. Ve a "Realizar Pago" o haz clic en una factura pendiente
2. Selecciona "Stablecoin" como m√©todo de pago
3. Ingresa el monto a pagar (en USDC)
4. Verifica tu balance disponible
5. Haz clic en "Pagar con Stablecoin"
6. Aprueba la transacci√≥n en tu wallet (dos pasos):
   - Primero aprueba el gasto del token
   - Luego confirma el pago
7. Espera la confirmaci√≥n de la transacci√≥n

### Opci√≥n 2: Pago con QR

1. Ve a "Realizar Pago"
2. Selecciona "QR" como m√©todo de pago
3. Ingresa el monto
4. Haz clic en "Generar C√≥digo QR"
5. Escanea el c√≥digo QR con tu app de pago
6. Completa el pago desde tu app

### Opci√≥n 3: Pago v√≠a WhatsApp

1. Ve a "Realizar Pago"
2. Selecciona "WhatsApp" como m√©todo de pago
3. Haz clic en "Abrir WhatsApp"
4. Se abrir√° WhatsApp con un mensaje pre-rellenado
5. Env√≠a el mensaje para procesar el pago

## üìÑ Ver Facturas

1. Ve a "Facturas" en el men√∫
2. Ver√°s todas tus facturas:
   - **Verde (Pagada):** Factura pagada
   - **Amarillo (Pendiente):** Factura pendiente de pago
   - **Rojo (Vencida):** Factura vencida
3. Haz clic en "Pagar Ahora" para pagar una factura pendiente
4. Ver detalles:
   - Consumo de agua (litros)
   - Monto a pagar
   - Fecha de vencimiento
   - Estado de pago

## üê∑ Ahorros

### Realizar un Dep√≥sito

1. Ve a "Ahorros" en el men√∫
2. Ver√°s tu balance total actual
3. Ingresa el monto que deseas depositar
4. Haz clic en "Depositar"
5. Aprueba la transacci√≥n en tu wallet
6. Tu dep√≥sito comenzar√° a generar intereses (3% anual)

### Ver Mis Dep√≥sitos

1. En la p√°gina de "Ahorros"
2. Ver√°s todos tus dep√≥sitos activos
3. Cada dep√≥sito muestra:
   - Monto depositado
   - Intereses acumulados
   - Estado (Activo/Retirado)

### Retirar Dep√≥sito

1. En la p√°gina de "Ahorros"
2. Localiza el dep√≥sito que deseas retirar
3. Haz clic en "Retirar"
4. Confirmar√°s la transacci√≥n
5. Recibir√°s el monto depositado m√°s los intereses acumulados

## üí≥ Microcr√©ditos

### Solicitar un Pr√©stamo

1. Ve a "Pr√©stamos" en el men√∫
2. Haz clic en "Solicitar Pr√©stamo"
3. Completa el formulario:
   - **Monto:** Cantidad que necesitas (m√≠nimo 0.1 USDC, m√°ximo seg√∫n l√≠mite)
   - **Plazo:** D√≠as para pagar (m√°ximo 365 d√≠as)
   - **Prop√≥sito:** Raz√≥n del pr√©stamo
4. Haz clic en "Solicitar Pr√©stamo"
5. Confirma la transacci√≥n
6. Los fondos se transferir√°n inmediatamente a tu wallet

### Ver Mis Pr√©stamos

1. En la p√°gina de "Pr√©stamos"
2. Ver√°s todos tus pr√©stamos:
   - **Activo:** Pr√©stamo vigente
   - **Pagado:** Pr√©stamo completamente pagado
   - **Cerrado:** Pr√©stamo cerrado

### Pagar un Pr√©stamo

1. Localiza el pr√©stamo activo
2. Haz clic en "Pagar Pr√©stamo"
3. Ingresa el monto a pagar (puede ser parcial)
4. Confirma la transacci√≥n
5. El pago se aplicar√° primero a intereses, luego a principal

## üìä Dashboard

El dashboard muestra:

- **Informaci√≥n del Usuario:**
  - Nombre ENS
  - ID de medidor
  - Estado de cuenta

- **Acciones R√°pidas:**
  - Realizar Pago
  - Ver Facturas
  - Ahorros

- **Resumen Financiero:**
  - Balance de stablecoins
  - Ahorros totales
  - Pr√©stamos activos

## ‚ö†Ô∏è Soluci√≥n de Problemas

### "Insufficient balance"
**Problema:** No tienes suficientes stablecoins para realizar la operaci√≥n.

**Soluci√≥n:**
- Obt√©n USDC o DAI en Scroll Sepolia Testnet
- Puedes usar un faucet para obtener tokens de prueba

### "User not registered"
**Problema:** Intentas usar funciones pero no est√°s registrado.

**Soluci√≥n:**
- Ve a tu dashboard y reg√≠strate primero
- Proporciona tu ENS name y ID de medidor

### "Transaction failed"
**Problema:** La transacci√≥n fall√≥.

**Soluciones:**
- Verifica que tengas suficiente ETH para gas fees
- Verifica que est√©s en la red correcta (Scroll Sepolia)
- Aumenta el gas limit si es necesario
- Revisa el mensaje de error en el explorer

### "Network not supported"
**Problema:** Tu wallet no est√° conectada a Scroll Sepolia.

**Soluci√≥n:**
- Agrega Scroll Sepolia a tu MetaMask
- Cambia la red en tu wallet a Scroll Sepolia
- Verifica la configuraci√≥n de red

## üîê Seguridad

### Buenas Pr√°cticas

1. **Nunca compartas tu clave privada** con nadie
2. **Verifica siempre las direcciones** de contratos antes de interactuar
3. **Revisa las transacciones** antes de confirmar
4. **Usa hardware wallets** para grandes cantidades
5. **Mant√©n tu software actualizado**

### Protecci√≥n de Datos

- Todos los pagos quedan registrados en la blockchain (transparente e inmutable)
- Tus datos personales no se almacenan on-chain
- Las facturas se almacenan en IPFS (descentralizado)

## üìû Soporte

Si tienes problemas o preguntas:

1. Revisa esta gu√≠a primero
2. Consulta la documentaci√≥n t√©cnica en `/docs`
3. Revisa los eventos en el blockchain explorer
4. Contacta al soporte del proyecto

## üéì Conceptos Importantes

### Gas Fees
Costo en ETH para ejecutar transacciones en la blockchain. En Scroll, los gas fees son muy bajos.

### Stablecoins
Tokens que mantienen un valor estable (USDC, DAI). 1 USDC ‚âà 1 USD.

### ENS Names
Nombres legibles para direcciones de wallet. Ejemplo: `casa123.aguapay.eth` en lugar de `0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb`

### IPFS
Sistema de almacenamiento descentralizado para archivos y documentos.

---

**¬°Disfruta usando AquaPay Web3! üíß**


